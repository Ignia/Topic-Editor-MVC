@model AttributeViewModel<AttributeDescriptorViewModel>

@{
  var isReflexive = Model.CurrentTopic.ContentType == "ReflexiveAttributeDescriptor" || !Model.CurrentTopic.ContentType.EndsWith("AttributeDescriptor");
  if (isReflexive) {
    Layout = "~/Areas/Editor/Views/Editor/Components/_Layout.cshtml";
  }
}

@if (!isReflexive) {
  <text>
    @await Component.InvokeAsync(
      Model.CurrentTopic.ContentType.Replace("AttributeDescriptor", ""),
      new { CurrentTopic = Model.CurrentTopic, Attribute = Model.AttributeDescriptor, HtmlFieldPrefix = Html.ViewData.TemplateInfo.HtmlFieldPrefix }
    )
  </text>
}
else {
  <div class="alert alert-warning" role="alert">
    <strong>Note:</strong> This attribute cannot be displayed on topics implementing the @Model.CurrentTopic.ContentType content type.
  </div>
}