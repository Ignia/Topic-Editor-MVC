@model DateTimeAttributeViewModel

@{
  Layout = "~/Views/Editor/Components/_Layout.cshtml";
  var includeDatePicker = Model.AttributeDescriptor.IncludeDatePicker?? true;
  var includeTimePicker = Model.AttributeDescriptor.IncludeTimePicker?? true;
}

<input
  type                          ="text"
  asp-for                       ="Value"
  class                         ="@Model.AttributeDescriptor.CssClass form-control input-sm"
  placeholder                   =@Model.InheritedValue
  disabled                      =@(!Model.AttributeDescriptor.IsEnabled)
  required                      =@Model.AttributeDescriptor.IsRequired
/>

<script>
  $(function() {

    //Instantiate date and/or time picker
    $('#@Html.IdFor(m => m.Value)')
      .@(includeDatePicker? "date" : "")@(includeTimePicker? "time" : "")picker({
        @if (includeDatePicker) {
          <text>
            dateFormat          : '@Model.AttributeDescriptor.DateFormat',
            defaultDate         : '@Model.GetDefaultDate()',
          </text>
        }
        @if (includeDatePicker && includeTimePicker) {
          <text>
            separator           : '@Model.AttributeDescriptor.DateTimeSeparator',
          </text>
        }
        @if (includeTimePicker) {
          <text>
            timeFormat          : '@Model.AttributeDescriptor.TimeFormat',
            defaultTime         : '@Model.GetDefaultTime()',
          </text>
        }
        defaultValue            : '@Model.GetDefaultDate() @Model.GetDefaultTime()'
      });

  });
</script>