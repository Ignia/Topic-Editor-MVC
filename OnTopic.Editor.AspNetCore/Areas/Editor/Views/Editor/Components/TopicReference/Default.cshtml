@model AttributeViewModel<TopicReferenceAttributeTopicViewModel>

@{
  var attributeDescriptor       = new TokenizedTopicListAttributeTopicViewModel() {
    Key                         = Model.AttributeDescriptor.Key,
    ContentType                 = "TokenizedTopicListAttribute",
    Description                 = Model.AttributeDescriptor.Description,
    Title                       = Model.AttributeDescriptor.Title,
    RootTopic                   = Model.AttributeDescriptor.RootTopic,
    RootTopicKey                = Model.AttributeDescriptor.RootTopicKey,
    AttributeKey                = String.IsNullOrEmpty(Model.AttributeDescriptor.TargetContentType)? "": "ContentType",
    AttributeValue              = Model.AttributeDescriptor.TargetContentType,
    ResultLimit                 = Model.AttributeDescriptor.ResultLimit,
    TokenLimit                  = 1,
    AutoPostBack                = true
  };
}

<vc:tokenized-topic-list
  current-topic=@Model.CurrentTopic
  html-field-prefix=@ViewData.TemplateInfo.HtmlFieldPrefix
  attribute=@attributeDescriptor>
</vc:tokenized-topic-list>