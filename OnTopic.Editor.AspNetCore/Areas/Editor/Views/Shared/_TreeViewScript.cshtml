@model OnTopic.Editor.Models.EditorViewModel

@{
  Layout = null;
  var rootTopic = (OnTopic.ViewModels.TopicViewModel)Model.Topic;
  while (rootTopic?.Parent?.Parent != null) {
    rootTopic = rootTopic.Parent;
  }
}

<script>
  Ext.onReady(function () {
    var tree = new OnTopic.Navigation('@Model.Topic.UniqueKey');
    tree.render('TreeView');
  });
</script>