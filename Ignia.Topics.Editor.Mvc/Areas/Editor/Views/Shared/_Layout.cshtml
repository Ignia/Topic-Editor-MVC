@model EditorViewModel

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Ignia OnTopic</title>

    <!-- jQuery -->
    <script src="~/_content/Ignia.Topics.Editor.Mvc/Shared/Scripts/Vendor/jQuery/jquery.min.js"></script>

    <!-- Popper -->
    <script src="~/_content/Ignia.Topics.Editor.Mvc/Shared/Scripts/Vendor/Popper/Popper.min.js"></script>

    <!-- Bootstrap -->
    <script src="~/_content/Ignia.Topics.Editor.Mvc/Shared/Scripts/Vendor/Bootstrap/Bootstrap.min.js"></script>
    <link rel="stylesheet" href="~/_content/Ignia.Topics.Editor.Mvc/Shared/Styles/Vendor/Bootstrap/Bootstrap.min.css" />

    <!-- ExtJS Scripts -->
    <script src="~/_content/Ignia.Topics.Editor.Mvc/Shared/Scripts/Vendor/ExtJS/ext-base.js"></script>
    <script src="~/_content/Ignia.Topics.Editor.Mvc/Shared/Scripts/Vendor/ExtJS/ext-all.js"></script>
    <script src="~/_content/Ignia.Topics.Editor.Mvc/Shared/Scripts/Vendor/ExtJS/ext-ExtendTextField.js"></script>

    <!-- Plugins -->
    <script src="~/_content/Ignia.Topics.Editor.Mvc/Shared/Scripts/Vendor/CKEditor/CKEditor.js"></script>
    <script src="~/_content/Ignia.Topics.Editor.Mvc/Shared/Scripts/Vendor/TokenInput/jquery-tokeninput.min.js"></script>
    <script src="~/_content/Ignia.Topics.Editor.Mvc/Shared/Scripts/Vendor/jQueryUI/jQuery-ui.min.js"></script>
    <script src="~/_content/Ignia.Topics.Editor.Mvc/Shared/Scripts/Vendor/TrentRichardson/jquery-ui-timepicker-addon.min.js"></script>
    <script src="~/_content/Ignia.Topics.Editor.Mvc/Shared/Scripts/TokenizedTopicList.js"></script>

    <!-- Font Awesome -->
    <script src="https://use.fontawesome.com/fd4f92cdd7.js"></script>

    <!-- ExtJS Stylesheets -->
    <link rel="stylesheet" type="text/css" href="~/_content/Ignia.Topics.Editor.Mvc/Shared/Styles/Vendor/ExtJS/css/ext-all.css" />
    <link rel="stylesheet" type="text/css" href="~/_content/Ignia.Topics.Editor.Mvc/Shared/Styles/Vendor/ExtJS/css/xtheme-gray.css" />

    <!-- Token Input Stylesheet -->
    <link rel="stylesheet" type="text/css" href="~/_content/Ignia.Topics.Editor.Mvc/Shared/Styles/Vendor/TokenInput/token-input.min.css" />

    <!-- Site Stylesheet -->
    <!-- <link rel="stylesheet" type="text/css" href="~/_content/Ignia.Topics.Editor.Mvc/Shared/Styles/Site.css" /> -->
    <link rel="stylesheet" type="text/css" asp-append-version="true" href="~/_content/Ignia.Topics.Editor.Mvc/Shared/Styles/Style.css" />

    <!-- Plugins -->
    <link rel="stylesheet" type="text/css" href="~/_content/Ignia.Topics.Editor.Mvc/Shared/Styles/Vendor/jQueryUI/jquery-ui.min.css" />
    <link rel="stylesheet" type="text/css" href="~/_content/Ignia.Topics.Editor.Mvc/Shared/Styles/Vendor/TrentRichardson/jquery-ui-timepicker-addon.min.css" />

  </head>
  <body vocab="http://schema.org" typeof="WebPage">

    <header id="SiteHeader" class="navbar fixed-top" role="banner" vocab="http://schema.org" typeof="WPHeader">
      <!-- Header Container -->
      <div id="HeaderContainer" class="container header">
        <div class="row">

          <!-- Site Name -->
          <div class="col-md-2 col-sm-3 logotype lockup">
            <a href="~/">OnTopic</a>
          </div>
          <!-- /Site Name -->

          <!-- Page Title (Current Topic) -->
          <div class="col-md-10 col-sm-9 page title">
            <h1>@Model.Topic.Title</h1>
          </div>
          <!-- /Page Title (Current Topic) -->

        </div>
      </div>
      <!-- /Header Container -->
    </header>

    <!--
    @Html.ActionLink("Application name", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
    <nav>
      <ul>
        <li>@Html.ActionLink("Home", "Index", "Home")</li>
        <li>@Html.ActionLink("About", "About", "Home")</li>
        <li>@Html.ActionLink("Contact", "Contact", "Home")</li>
      </ul>
    </nav>
    -->

    <main id="MainContentArea" class="container" role="main">
      <div class="row">

        <!-- Primary (Treeview) Sidebar -->
        <nav id="Sidebar" class="col-md-2 col-sm-3 sidebar" role="navigation">
          <div id="FixedSidebar">
            <div id="TreeView"></div>
            @{
              var options       = new TopicLookupOptions() {
                Scope           = "Configuration:ContentTypes",
                AttributeName   = "ContentType",
                AttributeValue  = "ContentType",
                Label           = "Add new topic…",
                AllowedKeys     = String.Join(",", Model.ContentTypeDescriptor.PermittedContentTypes.Select(m => m.Key).ToArray()),
                TargetUrl       = $"?ContentType{{Topic}}&Path={Model.Topic.UniqueKey}&Action=Add",
              };
            }
            <text>
              <vc:topic-lookup
                attribute=@(new AttributeDescriptorTopicViewModel() { Key="Placeholder", EditorType="TopicLookup.ascx" })
                html-field-prefix=@ViewData.TemplateInfo.HtmlFieldPrefix
                options=@options>
              </vc:topic-lookup>
            </text>
          </div>
        </nav>
        <!-- /Primary (Treeview) Sidebar -->

        <!-- Primary Page Content -->
        <div id="PageContentArea" class="col-md-10 col-sm-9 page content">
          @RenderBody()
        </div>
        <!-- /Primary Page Content -->

      </div>
    </main>

    <script src="~/_content/Ignia.Topics.Editor.Mvc/Shared/Scripts/Window.Primary.Functions.js"></script>

    <partial name="_TreeviewScript" />

    @RenderSection("scripts", required: false)

  </body>
</html>
