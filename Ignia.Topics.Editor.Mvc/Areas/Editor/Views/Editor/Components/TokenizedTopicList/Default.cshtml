@model TokenizedTopicListAttributeViewModel

@{
  Layout = "~/Areas/Editor/Views/Editor/Components/_Layout.cshtml";
}

<div>
  <input asp-for="Value" class="form-control input-sm" />
</div>

<script>
  $(function() {

  //Create new instance of TokenizedTopics and set relevant properties
    var tokenizedTopics                 = new TokenizedTopics();
    tokenizedTopics.selector            = '#@Html.IdFor(m => m.Value)';
    tokenizedTopics.scope               = '@Model.AttributeDescriptor.Scope.Replace(":", "/")';
    tokenizedTopics.attributeName       = '@Model.AttributeDescriptor.AttributeName';
    tokenizedTopics.attributeValue      = '@Model.AttributeDescriptor.AttributeValue';
    tokenizedTopics.searchProperty      = '@Model.AttributeDescriptor.SearchProperty.ToLower()';
    tokenizedTopics.queryParameter      = '@Model.AttributeDescriptor.QueryParameter';
    tokenizedTopics.resultLimit         = '@Model.AttributeDescriptor.ResultLimit';
    tokenizedTopics.tokenLimit          = @Model.AttributeDescriptor.TokenLimit;
    tokenizedTopics.isAutoPostBack      = @Model.AttributeDescriptor.IsAutoPostBack.ToString().ToLower();
    tokenizedTopics.selectedTopics      = @Model.SelectedTopics;

  //Fire TokenizedTopics.prototype.getTokenizedTopics() (and $([selector]).tokenInput())
    tokenizedTopics.getTokenizedTopics();

  });

</script>